     1                                  ;; function.asm
     2                                  extern	printf
     3                                  section	.data
     4 00000000 0000000000002440        	radius	dq	10.0
     5 00000008 4AD8124DFB210940        	pi	dq	3.1415926
     6 00000010 546865206172656120-     	fmt	db	"The area of the circle is %.5f",10,0
     6 00000019 6F6620746865206369-
     6 00000022 72636C652069732025-
     6 0000002B 2E35660A00         
     7                                  section	.bss
     8                                  section	.text
     9                                  	global main
    10                                  ;------------------------------------------------------------
    11                                  main:
    12 00000000 55                      	push	rbp
    13 00000001 4889E5                  	mov	rbp, rsp
    14                                  	
    15 00000004 E81F000000              	call	area
    16 00000009 48BF-                   	mov	rdi, fmt
    16 0000000B [1000000000000000] 
    17 00000013 F20F100C25-             	movsd	xmm1, [radius]	; Write float to xmm1.
    17 00000018 [00000000]         
    18 0000001C B801000000              	mov	rax, 1		; Value of the square in xmm0.
    19 00000021 E8(00000000)            	call	printf
    20 00000026 C9                      leave
    21 00000027 C3                      ret
    22                                  ;------------------------------------------------------------
    23                                  area:
    24 00000028 55                      	push	rbp
    25 00000029 4889E5                  	mov	rbp, rsp
    26                                  	
    27 0000002C F20F100425-             	movsd	xmm0, [radius]
    27 00000031 [00000000]         
    28 00000035 F20F590425-             	mulsd	xmm0, [radius]
    28 0000003A [00000000]         
    29 0000003E F20F590425-             	mulsd	xmm0, [pi]
    29 00000043 [08000000]         
    30 00000047 C9                      leave
    31 00000048 C3                      ret
