     1                                  ;; fcalc.asm
     2                                  extern	printf
     3                                  section	.data
     4 00000000 0000000000002240        	number1		dq	9.0
     5 00000008 0000000000405240        	number2		dq	73.0
     6 00000010 546865206E756D6265-     	fmt		db	"The number are %f and %f",10,0
     6 00000019 722061726520256620-
     6 00000022 616E642025660A00   
     7 0000002A 25732025660A00          	fmtfloat	db	"%s %f",10,0
     8 00000031 54686520666C6F6174-     	f_sum		db	"The float sum of %f and %f is %f",10,0
     8 0000003A 2073756D206F662025-
     8 00000043 6620616E6420256620-
     8 0000004C 69732025660A00     
     9 00000053 54686520666C6F6174-     	f_dif		db	"The float difference of %f and %f is %f",10,0
     9 0000005C 20646966666572656E-
     9 00000065 6365206F6620256620-
     9 0000006E 616E64202566206973-
     9 00000077 2025660A00         
    10 0000007C 54686520666C6F6174-     	f_mul		db	"The float product of %f and %f is %f",10,0
    10 00000085 2070726F6475637420-
    10 0000008E 6F6620256620616E64-
    10 00000097 202566206973202566-
    10 000000A0 0A00               
    11 000000A2 54686520666C6F6174-     	f_div		db	"The float division of %f by %f is %f",10,0
    11 000000AB 206469766973696F6E-
    11 000000B4 206F66202566206279-
    11 000000BD 202566206973202566-
    11 000000C6 0A00               
    12 000000C8 74686520666C6F6174-     	f_sqrt		db	"the float squareroot of %f is %f",10,0
    12 000000D1 20737175617265726F-
    12 000000DA 6F74206F6620256620-
    12 000000E3 69732025660A00     
    13                                  section	.bss
    14                                  section	.text
    15                                  	global main
    16                                  main:
    17                                  	; Prologue.
    18 00000000 55                      	push	rbp
    19 00000001 4889E5                  	mov	rbp, rsp
    20                                  	; Print nubmers.
    21 00000004 F20F100425-             	movsd	xmm0, [number1]
    21 00000009 [00000000]         
    22 0000000D F20F100C25-             	movsd	xmm1, [number2]
    22 00000012 [08000000]         
    23 00000016 48BF-                   	mov	rdi, fmt
    23 00000018 [1000000000000000] 
    24 00000020 B802000000              	mov	rax, 2			; Two float numbers.
    25 00000025 E8(00000000)            	call	printf
    26                                  	; Calculate the sum.
    27 0000002A F20F101425-             	movsd	xmm2, [number1]
    27 0000002F [00000000]         
    28 00000033 F20F581425-             	addsd	xmm2, [number2]
    28 00000038 [08000000]         
    29                                  		; Print the result.
    30 0000003C F20F100425-             		movsd	xmm0, [number1]
    30 00000041 [00000000]         
    31 00000045 F20F100C25-             		movsd	xmm1, [number2]
    31 0000004A [08000000]         
    32 0000004E 48BF-                   		mov	rdi, f_sum
    32 00000050 [3100000000000000] 
    33 00000058 B803000000              		mov	rax, 3		; Three float numbers.
    34 0000005D E8(00000000)            		call	printf
    35                                  	; Calculate the difference.
    36 00000062 F20F101425-             	movsd	xmm2, [number1]
    36 00000067 [00000000]         
    37 0000006B F20F5C1425-             	subsd	xmm2, [number2]
    37 00000070 [08000000]         
    38                                  		; Print the result.
    39 00000074 F20F100425-             		movsd 	xmm0, [number1]
    39 00000079 [00000000]         
    40 0000007D F20F100C25-             		movsd 	xmm1, [number2]
    40 00000082 [08000000]         
    41 00000086 48BF-                   		mov	rdi, f_dif
    41 00000088 [5300000000000000] 
    42 00000090 B803000000              		mov	rax, 3		; Three float numbers.
    43 00000095 E8(00000000)            		call	printf
    44                                  	; Calculate the product.
    45 0000009A F20F101425-             	movsd	xmm2, [number1]
    45 0000009F [00000000]         
    46 000000A3 F20F591425-             	mulsd	xmm2, [number2]
    46 000000A8 [08000000]         
    47                                  		; Print the result.
    48 000000AC F20F100425-             		movsd	xmm0, [number1]
    48 000000B1 [00000000]         
    49 000000B5 F20F100C25-             		movsd	xmm1, [number2]
    49 000000BA [08000000]         
    50 000000BE 48BF-                   		mov	rdi, f_mul
    50 000000C0 [7C00000000000000] 
    51 000000C8 B803000000              		mov 	rax, 3		; Three float numbers.
    52 000000CD E8(00000000)            		call 	printf
    53                                  	; Calculate the division.
    54 000000D2 F20F101425-             	movsd	xmm2, [number1]
    54 000000D7 [00000000]         
    55 000000DB F20F5E1425-             	divsd	xmm2, [number2]
    55 000000E0 [08000000]         
    56                                  		; Print the result.
    57 000000E4 F20F100425-             		movsd	xmm0, [number1]
    57 000000E9 [00000000]         
    58 000000ED F20F100C25-             		movsd	xmm1, [number2]
    58 000000F2 [08000000]         
    59 000000F6 48BF-                   		mov	rdi, f_div
    59 000000F8 [A200000000000000] 
    60 00000100 B801000000              		mov	rax, 1		; One float number.
    61 00000105 E8(00000000)            		call	printf
    62                                  	; Calculate the sqrt.
    63 0000010A F20F510C25-             	sqrtsd	xmm1, [number1]		; Sqrt double precision in xmm.
    63 0000010F [00000000]         
    64                                  		; Print the result.
    65 00000113 F20F100425-             		movsd	xmm0, [number1]
    65 00000118 [00000000]         
    66 0000011C 48BF-                   		mov	rdi, f_sqrt
    66 0000011E [C800000000000000] 
    67 00000126 B802000000              		mov	rax, 2		; Two float numbers.
    68 0000012B E8(00000000)            		call	printf
    69                                  	; Epilogue.
    70 00000130 4889EC                  	mov	rsp, rbp
    71 00000133 5D                      	pop	rbp
    72 00000134 C3                      	ret
    73                                  
    74                                  
